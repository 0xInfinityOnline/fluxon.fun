import { useAppStore } from '../store'

// Minimal i18n. English by default, Spanish optional.
export type LangKey = 'en' | 'es'

const dict: Record<LangKey, Record<string, string>> = {
  en: {
    dashboard: 'Dashboard',
    refresh: 'Refresh',
    resetData: 'Reset data',
    accountOverviewRows: 'Account Overview rows',
    postsIngested: 'Posts ingested',
    csvUploads: 'CSV uploads',
    refreshList: 'Refresh list',
    delete: 'Delete',
    uploadMoreCSVs: 'Upload more CSVs',
    dropHereOrBrowse: 'Drop your CSV file here, or',
    browse: 'browse',
    csvSupportTitle: 'Supports X/Twitter CSVs in Spanish or English',
    acceptedFormats: 'Accepted formats:',
    overviewCols: 'Overview: Date/Fecha, Impressions/Impresiones, Likes/Me gusta, Interactions/Interacciones, Saves/Guardados, Shares/Compartidos, New Followers/Nuevos seguidores, Unfollows/Dejar de seguir, Replies/Respuestas, Reposts/Reposts, Profile Visits/Visitas del perfil, Create Post, Video Plays/Reproducciones de video/Video Views, Media Views/Visualizaciones de contenido multimedia',
    postsCols: 'Posts: Post ID/ID del post, Date/Fecha, Post Text/Texto del post, Post Link/Postear enlace, Impressions/Impresiones, Likes/Me gusta, Interactions/Interacciones, Saves/Guardados, Shares/Compartidos, New Followers/Nuevos seguidores, Replies/Respuestas, Reposts/Reposts, Profile Visits/Visitas del perfil, Detail Expands, URL Clicks, Hashtag Clicks, Permalink Clicks',
    language: 'Language',
    english: 'English',
    spanish: 'Spanish',
    logout: 'Logout',
    signIn: 'Sign in',
    register: 'Register',
    needAccount: 'Need an account? Register',
    haveAccount: 'Have an account? Sign in',
    username: 'Username',
    email: 'Email',
    password: 'Password',
    yourHandle: 'your handle',
    emailPlaceholder: 'you@example.com',
    clear: 'Clear',
    day: 'Day',
    remove: 'remove',
    noPostsYet: 'No posts yet. Upload a Posts/Content CSV (with post text, link and metrics) to analyze per-post data.',
    noPostsLoaded: 'No posts loaded. Please upload a Posts/Content CSV to analyze per-post data.',
    uploadMore: 'Uploads',
    from: 'From',
    to: 'To',
    sortBy: 'Sort by',
    impressions: 'Impressions',
    likes: 'Likes',
    engagement: 'Engagement',
    minValue: 'Min value',
    direction: 'Direction',
    desc: 'Desc',
    asc: 'Asc',
    search: 'Search',
    date: 'Date',
    user: 'User',
    text: 'Text',
    interactionsShort: 'Interac.',
    link: 'Link',
    open: 'Open',
    processing: 'Processing...',
    analyze: 'Analyze',
    agentTitle: 'Fluxon Agent',
    agentSubtitle: 'Paste a post idea and get recommendations',
    viralityScore: 'Virality score',
    postIdeaPlaceholder: 'Type your post idea here...',
    totals: 'Totals',
    impressionsOverTime: 'Impressions over time',
    likesOverTime: 'Likes over time',
    engagementTrend: 'Engagement trend',
    topPostsByLikes: 'Top posts by likes',
    bestPostingTime: 'Best posting time (avg likes)',
    topMentions: 'Top mentions',
    handlesByCount: '@handles by count',
    sun: 'Sun', mon: 'Mon', tue: 'Tue', wed: 'Wed', thu: 'Thu', fri: 'Fri', sat: 'Sat',
    noUploadsYet: 'No uploads yet.',
    fileName: 'File name',
    type: 'Type',
    rowsImported: 'Rows imported',
    uploadedAt: 'Uploaded at',
    page: 'Page',
    of: 'of',
    perPage: 'per page',
    next: 'Next',
    prev: 'Prev',
    createdBy: 'Created by',
    donate: 'Donate',
  },
  es: {
    dashboard: 'Panel',
    refresh: 'Actualizar',
    resetData: 'Reiniciar datos',
    accountOverviewRows: 'Filas de Overview',
    postsIngested: 'Posts importados',
    csvUploads: 'Subidas de CSV',
    refreshList: 'Actualizar lista',
    delete: 'Eliminar',
    uploadMoreCSVs: 'Subir más CSVs',
    dropHereOrBrowse: 'Suelta tu archivo CSV aquí o',
    browse: 'buscar',
    csvSupportTitle: 'Soporta CSV de X/Twitter en Español o Inglés',
    acceptedFormats: 'Formatos aceptados:',
    overviewCols: 'Overview: Date/Fecha, Impresiones/Impressions, Me gusta/Likes, Interacciones/Interactions, Guardados/Saves, Compartidos/Shares, Nuevos seguidores/New Followers, Dejar de seguir/Unfollows, Respuestas/Replies, Reposts/Reposts, Visitas del perfil/Profile Visits, Create Post, Reproducciones de video/Video Plays/Video Views, Visualizaciones de contenido multimedia/Media Views',
    postsCols: 'Posts: ID del post/Post ID, Fecha/Date, Texto del post/Post Text, Postear enlace/Post Link, Impresiones/Impressions, Me gusta/Likes, Interacciones/Interactions, Guardados/Saves, Compartidos/Shares, Nuevos seguidores/New Followers, Respuestas/Replies, Reposts/Reposts, Visitas del perfil/Profile Visits, Detail Expands, URL Clicks, Hashtag Clicks, Permalink Clicks',
    language: 'Idioma',
    english: 'Inglés',
    spanish: 'Español',
    logout: 'Cerrar sesión',
    signIn: 'Iniciar sesión',
    register: 'Crear cuenta',
    needAccount: '¿Necesitas una cuenta? Regístrate',
    haveAccount: '¿Ya tienes cuenta? Inicia sesión',
    username: 'Usuario',
    email: 'Correo',
    password: 'Contraseña',
    yourHandle: 'tu usuario',
    emailPlaceholder: 'tu@ejemplo.com',
    clear: 'Limpiar',
    day: 'Día',
    remove: 'quitar',
    noPostsYet: 'Aún no hay posts. Sube un CSV de Posts/Contenido (con texto, enlace y métricas) para analizar datos por post.',
    noPostsLoaded: 'No hay posts cargados. Sube un CSV de Posts/Contenido para analizarlos.',
    uploadMore: 'Subidas',
    from: 'Desde',
    to: 'Hasta',
    sortBy: 'Ordenar por',
    impressions: 'Impresiones',
    likes: 'Me gusta',
    engagement: 'Interacción',
    minValue: 'Valor mínimo',
    direction: 'Dirección',
    desc: 'Desc',
    asc: 'Asc',
    search: 'Buscar',
    date: 'Fecha',
    user: 'Usuario',
    text: 'Texto',
    interactionsShort: 'Interac.',
    link: 'Enlace',
    open: 'Abrir',
    processing: 'Procesando...',
    analyze: 'Analizar',
    agentTitle: 'Agente Fluxon',
    agentSubtitle: 'Pega una idea de post y recibe recomendaciones',
    viralityScore: 'Puntaje de viralidad',
    postIdeaPlaceholder: 'Escribe tu idea de post...',
    totals: 'Totales',
    impressionsOverTime: 'Impresiones en el tiempo',
    likesOverTime: 'Me gusta en el tiempo',
    engagementTrend: 'Tendencia de interacción',
    topPostsByLikes: 'Top posts por Me gusta',
    bestPostingTime: 'Mejor horario (prom. Me gusta)',
    topMentions: 'Menciones principales',
    handlesByCount: '@handles por conteo',
    sun: 'Dom', mon: 'Lun', tue: 'Mar', wed: 'Mié', thu: 'Jue', fri: 'Vie', sat: 'Sáb',
    noUploadsYet: 'Aún no hay subidas.',
    fileName: 'Archivo',
    type: 'Tipo',
    rowsImported: 'Filas importadas',
    uploadedAt: 'Subido el',
    page: 'Página',
    of: 'de',
    perPage: 'por página',
    next: 'Siguiente',
    prev: 'Anterior',
    createdBy: 'Creado por',
    donate: 'Donar',
  },
}

export function useI18n() {
  const lang = useAppStore((s) => s.language)
  return {
    t: (key: string) => (dict[lang] && dict[lang][key]) || dict.en[key] || key,
    lang,
  }
}
